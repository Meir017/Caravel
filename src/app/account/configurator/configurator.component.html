
<div class="configurator">
  <section class="configurator-scopes">
    <div *ngFor="let scope of configuration | keyvalue" class="config-scope">
      <h4>{{ scope.key }}</h4>
      <div *ngFor="let conf of scope.value | keyvalue" class="configurable">
        <app-toggle *ngIf="conf.value.type === 'toggle'"
          [(value)]="conf.value.value"
          (change)="upd(scope.key, conf.key, conf.value.value)">
          {{ conf.value.name }}
        </app-toggle>
        <ibm-label *ngIf="conf.value.type === 'text'">
          {{ conf.value.name }}
          <input ibmText type="text"
            [(ngModel)]="conf.value.value"
            (change)="upd(scope.key, conf.key, conf.value.value)">
        </ibm-label>
        <ibm-select *ngIf="conf.value.type === 'select'"
          [label]="conf.value.name"
          [(ngModel)]="conf.value.value"
          (change)="upd(scope.key, conf.key, conf.value.value)">
          <option
            *ngFor="let opt of conf.value.options"
            [value]="opt">
            {{ opt }}
          </option>
        </ibm-select>
      </div>
    </div>
  </section>
</div>