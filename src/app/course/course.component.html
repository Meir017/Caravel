<main class="page">
  <div class="content">
    <section>
      <div class="title-row">
        <h1>{{ course?.name }}</h1>
        <label class="switch">Use Redesign
          <input type="checkbox" [(ngModel)]="useRedesign" (change)="syncConfig(useRedesign)">
          <span class="slider"></span>
        </label>
      </div>
      <hr>
      <ng-container *ngIf="useRedesign">
        <div class="quick-access">
          <a *ngFor="let tool of tools" target="_blank" class="accessor">
            <svg><use [attr.href]="getSVGIconURL(tool.name)"/></svg>
          </a>
          <a href="https://drive.google.com" target="_blank" class="accessor">
            <svg><use href="assets/integrations/icons.svg#googledrive"/></svg>
          </a>
          <a href="https://live.com" target="_blank" class="accessor">
            <svg><use href="assets/integrations/icons.svg#onedrive"/></svg>
          </a>
          <a href="https://www.allthingssecured.com/tips/stop-using-zoom/" target="_blank" class="accessor">
            <svg><use href="assets/integrations/icons.svg#zoom"/></svg>
          </a>
          <a class="accessor">+</a>
        </div>
      </ng-container>
      <h2>Recent Feedback</h2>
      <div class="recent-item-bar">
        <div class="item" *ngFor="let submission of recent">
          <h3><a [routerLink]="'/c/'+course?.id+'/a/'+submission.assignment.id">
            {{ submission.assignment.name }}
          </a></h3>
          <em>
            <span>Submitted {{ submission.submitted_at | date }}</span>
            <span *ngIf="submission.late" class="late">(Late)</span>
          </em>
          <blockquote>
            Grade:
            <span *ngIf="submission.graded_at">{{ submission.score }}</span>
            <span *ngIf="!submission.graded_at">ungraded</span>
            / {{ submission.assignment.points_possible }}
          </blockquote>
        </div>
      </div>
      <ng-container *ngIf="!useRedesign">
        <hr>
        <h2>Course Home Page</h2>
        <div [innerHtml]="this.frontPage?.body" class="xss-sanitize"></div>
      </ng-container>
      <ng-container *ngIf="useRedesign">
        <h2>Course Stream</h2>
        <home-todo *ngFor="let item of stream" [item]="item"></home-todo>
      </ng-container>
    </section>
  </div>
</main>